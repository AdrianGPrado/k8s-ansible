{% macro etcd_servers() -%}
{%- for node in groups['etcd'] -%}
    {% if etcd_url_scheme is defined %}
        {{ etcd_url_scheme }}
    {% else %}
        http
    {% endif %}
        ://{{ node }}:{{ etcd_client_port }}
    {%- if not loop.last -%},{%- endif -%}
{%- endfor -%}
{% if etcd_url_scheme is defined and etcd_url_scheme == 'https' %} 
  --etcd-cafile={{ apiserver_etcd_ca_file }} 
  --etcd-certfile={{ apiserver_etcd_cert_file }} 
  --etcd-keyfile={{ apiserver_etcd_key_file }}
{% endif %}
{% endmacro -%}
# The address on the local server to listen to.
KUBE_API_ADDRESS="--address=0.0.0.0"

# The port on the local server to listen on.
KUBE_API_PORT="--port=8080"

# Port kubelets listen on
KUBELET_PORT="--kubelet-port=10250"

# Comma separated list of nodes in the etcd cluster
KUBE_ETCD_SERVERS="--etcd-servers={{ etcd_servers() }}"

# Address range to use for services
KUBE_SERVICE_ADDRESSES="--service-cluster-ip-range={{ kube_service_addresses }}"


# Add your own!
KUBE_API_ARGS=""
