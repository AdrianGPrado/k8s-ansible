{% macro flannel_network() -%}
{%- for node in groups['etcd'] -%}
    {{ flannel_url_scheme }}://{{ node }}:{{ flannel_client_port }}
    {%- if not loop.last -%},{%- endif -%}
{%- endfor -%}
{% endmacro -%}
# Flanneld configuration options

# etcd url location.  Point this to the server where etcd runs
FLANNEL_ETCD_ENDPOINTS="{{ flannel_network() }}"

# etcd config key. This is the configuration key that flannel queries

# For address range assignment
FLANNEL_ETCD_PREFIX="/{{ flannel_cluster_name }}/network"

# Additional options
#FLANNEL_OPTIONS=""
